@using WebApp.Entities;
@using WebApp.Enums;
@model Appointment

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@{
    Layout = "_Layout";
}

<div class="container">
    <div class="row">

        @{
            string GetAppointmentStatus(int appointmentStatus)
            {

                switch (appointmentStatus)
                {
                    case (int)AppointmentStatusEnum.Scheduled:
                        return "Scheduled";
                    case (int)AppointmentStatusEnum.Completed:
                        return "Completed";
                    case (int)AppointmentStatusEnum.Arrived:
                        return "Arrived";
                    case (int)AppointmentStatusEnum.Canceled:
                        return "Canceled";
                }

                return null;
            }
        }
        <div class="card">
            <div class="card-header">
                <h5>Appointment Details</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <p><strong>Patient:</strong> @Model.Patient.PatientName</p>
                        <p><strong>Doctor:</strong> @Model.Doctor.DoctorName</p>
                        <p><strong>Clinic:</strong> @Model.Clinic.ClinicName</p>
                        <p><strong>Appointment Date:</strong> @Model.AppointmentDate.ToString("dd/MM/yyyy hh:mm tt")</p>
                        <p><strong>Status:</strong> @GetAppointmentStatus(@Model.AppointmentStatus)</p>
                    </div>
                    <div class="col-md-6">
                        @if (Model.AppointmentStatus == (int)AppointmentStatusEnum.Completed)
                        {
                            <p><strong>Appointment Completed</strong></p>
                        }
                        else
                        {
                            <button class="btn btn-success" id="completeAppointment">Mark as Completed</button>  
                            <button class="btn btn-danger" id="cancelAppointment">Cancel an Appointment</button>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>